<nav aria-label="Breadcrumb" class="font-josefina_sans text-lg italic px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg shadow-md mb-8">
  <xng-breadcrumb [separator]="iconTemplate" class="flex items-center flex-wrap">
    <ng-container *xngBreadcrumbItem="let breadcrumb; let info = info; let last = last">
      <div class="flex items-center group">
        <span [ngClass]="info + ' w-6 h-6 mr-2 text-purple-600 group-hover:text-pink-600 transition-colors duration-300 ease-in-out'"></span>
        <span class="text-gray-600 group-hover:text-gray-800 transition-colors duration-300 ease-in-out">{{ breadcrumb }}</span>
        <ng-container *ngIf="last">
          <span class="font-bold text-purple-800 ml-2 group-hover:text-pink-800 transition-colors duration-300 ease-in-out">
            {{ category.toUpperCase() }}
          </span>
        </ng-container>
      </div>
    </ng-container>
  </xng-breadcrumb>
</nav>

<ng-template #iconTemplate>
  <span class="icon-[hugeicons--arrow-right-double] w-6 h-6 mx-2 text-gray-400 group-hover:text-gray-600 transition-colors duration-300 ease-in-out"></span>
</ng-template>

<main class="container mx-auto px-4 py-4">
  <!-- Resultados y Ordenamiento -->
  <div class="flex justify-between items-center mb-4">
    <p class="text-sm text-gray-600">{{ products.length }} resultados</p>
    <div class="flex items-center gap-2">
      <span class="text-sm text-gray-600">Ordenar por</span>
      <select class="border rounded px-2 py-1 text-sm">
        <option>Más relevantes</option>
      </select>
    </div>
  </div>

  <div class="flex gap-6">
    <!-- Filtros Laterales -->
    <aside class="w-64 flex-shrink-0">
      <!-- FULL -->
      <div class="bg-white border rounded p-4 mb-4">
        <label class="flex items-center gap-2">
          <input type="checkbox" class="form-checkbox text-green-500">
          <div>
            <div class="flex items-center gap-1">
              <i class="fas fa-bolt text-green-500"></i>
              <span class="font-medium">FULL</span>
            </div>
            <span class="text-sm text-gray-500">te da envío gratis</span>
            <span class="text-xs text-gray-400 block">En carritos desde $ 299</span>
          </div>
        </label>
      </div>

      <!-- Envío gratis primera compra -->
      <div class="bg-white border rounded p-4 mb-4">
        <label class="flex items-center gap-2">
          <input type="checkbox" class="form-checkbox text-green-500">
          <div>
            <span class="font-medium">Envío gratis</span>
            <span class="text-sm text-gray-500 block">por ser tu primera compra</span>
          </div>
        </label>
      </div>

      <!-- Filtros -->
      <div class="bg-white border rounded p-4">
        <h3 class="font-medium mb-4">Filtros</h3>
        
        <!-- Categoría -->
        <div class="mb-4">
          <select
            [(ngModel)]="selectedSubCategory"
            (change)="filteredProduct()"
            class="w-full border rounded px-3 py-2 text-sm"
          >
            <option value="">Todos los {{ category }}</option>
            <option *ngFor="let subCategory of subCategories" [value]="subCategory.code">
              {{ subCategory.code }}
            </option>
          </select>
        </div>

        <!-- Precio -->
        <div class="mb-4">
          <h4 class="text-sm font-medium mb-2">Precio</h4>
          <div class="flex gap-2">
            <div class="relative flex-1">
              <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">$</span>
              <input
                type="number"
                [(ngModel)]="minPrice"
                (change)="filteredProduct()"
                placeholder="Mínimo"
                class="w-full pl-6 pr-2 py-1.5 border rounded text-sm"
              >
            </div>
            <div class="relative flex-1">
              <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">$</span>
              <input
                type="number"
                [(ngModel)]="maxPrice"
                (change)="filteredProduct()"
                placeholder="Máximo"
                class="w-full pl-6 pr-2 py-1.5 border rounded text-sm"
              >
            </div>
          </div>
        </div>

        <!-- Talla -->
        <div class="mb-4">
          <h4 class="text-sm font-medium mb-2">Talla</h4>
          <select
            [(ngModel)]="selectedSize"
            (change)="filteredProduct()"
            class="w-full border rounded px-3 py-2 text-sm"
          >
            <option value="">Todas</option>
            <option value="XS">XS</option>
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
          </select>
        </div>
        <!-- Colores -->
        <div class="mb-4">
          <h4 class="text-sm font-medium mb-2">Colores</h4>
          <select
            [(ngModel)]="selectColor"
            (change)="filteredProduct()"
            class="w-full border rounded px-3 py-2 text-sm"
          >
            <option value="">Todos</option>
            <option value="XS">Rojp</option>
            <option value="S">Negro</option>
            <option value="M">Blanco</option>
            <option value="L">Gris</option>
            
          </select>
        </div>
      </div>
    </aside>

    <!-- Lista de Productos -->
    <div class="flex-1">
      <div class="space-y-4">
        <div *ngFor="let product of products" class="bg-white border rounded hover:shadow-lg transition-shadow">
          <a class="flex p-4 gap-6">
            <!-- Imagen del producto -->
            <div class="w-48 h-48 flex-shrink-0">
              <img
                [src]="product.imgUri"
                [alt]="product.name"
                class="w-full h-full object-contain"
              >
            </div>

            <!-- Información del producto -->
            <div class="flex-1">
              <!-- Nombre del producto -->
              <h2 class="text-lg mb-2 hover:text-blue-600">{{ product.name }}</h2>

              <!-- Precio -->
              <div class="mb-2">
                <div class="flex items-baseline gap-2">
                  <span class="text-2xl">{{ product.price }}</span>
                </div>
              </div>

              <!-- Colores disponibles -->
              <div class="text-sm text-gray-600 mb-2">
                Colores: {{ product.colors?.length || 0 }}
              </div>

              <!-- Envío -->
              <div class="flex items-center gap-1 text-green-600 mb-2">
                <i class="fas fa-truck"></i>
                <span>Envío gratis</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</main>

