<div class="flex min-h-screen items-center justify-center p-4">
  <animated-background></animated-background>
  
  <div class="w-full max-w-md border-none shadow-xl bg-white rounded-lg relative z-10">
    <!-- Icono superior centrado -->
    <div class="flex justify-center -mt-12 mb-2">
      <div class="h-24 w-24 rounded-full bg-[#E91E63] flex items-center justify-center shadow-lg border-4 border-white">
        <span class="icon-[mdi--lock-reset] text-white text-4xl"></span>
      </div>
    </div>
    
    <div class="p-8">
      <!-- Formulario de restablecimiento de contraseña -->
      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
        <h2 class="text-2xl font-bold text-center text-[#000000] mb-2">
          Establecer nueva contraseña
        </h2>
        
        <p class="text-center text-gray-500 mb-6">
          Crea una contraseña segura para proteger tu cuenta
        </p>

        <div class="space-y-5">
          <form-password-control
            [form]="resetForm"
            controlName="newPassword"
            label="Nueva contraseña"
            iconClass="icon-[mdi--key-outline]"
            errorMessage="La contraseña no cumple con los requisitos."
            placeholder="Ingresa tu contraseña"
            [enableRequirements]="true"
          />

          <form-password-control
            [form]="resetForm"
            controlName="confirmPassword"
            label="Confirmar contraseña"
            iconClass="icon-[mdi--key-outline]"
            errorMessage="Las contraseña no coinciden"
            placeholder="Confirma tu contraseña"
            [enableRequirements]="false"
          />
        </div>

        <!-- Botón de envío -->
        <button-control
          buttonClass="w-full flex justify-center py-3 mt-8 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-[#E91E63] hover:bg-[#D81B60] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#E91E63] transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"
          [text]="isLoading() ? 'Estableciendo contraseña...' : 'Establecer contraseña'"
          [hasIconClass]="isLoading()"
          type="submit"
          iconClass="-ml-1 mr-2 h-4 w-4 icon-[line-md--loading-loop] animate-spin"
          [hasDisabledCondition]="true"
          [disabledCondition]="resetForm.invalid || isLoading()"
        />
      </form>
      
      <!-- Información de seguridad -->
      <div class="mt-6 pt-4 border-t border-gray-200">
        <div class="flex items-center text-xs text-gray-500">
          <span class="icon-[mdi--shield-check-outline] text-[#E91E63] mr-2"></span>
          <span>Tu información está protegida con encriptación de extremo a extremo</span>
        </div>
      </div>
    </div>
    
    <!-- Footer con enlace de ayuda -->
    <div class="px-8 py-4 bg-gray-50 rounded-b-lg border-t border-gray-100 flex justify-center">
      <button type="button" class="text-sm text-gray-600 hover:text-[#E91E63] transition-colors flex items-center">
        <span class="icon-[mdi--help-circle-outline] mr-1"></span>
        <span>¿Necesitas ayuda?</span>
      </button>
    </div>
  </div>
</div>